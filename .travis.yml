language: c

install:

    # install make
    - sudo apt-get update

    # install haskell so we can build pandoc
    - sudo apt-get install haskell-platform
    - sudo cabal update
    - sudo cabal install pandoc

    # install latest R
    - sudo apt-add-repository -y "deb http://cran.rstudio.com/bin/linux/ubuntu `lsb_release -cs`/"
    - sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9
    - sudo apt-add-repository -y ppa:marutter/c2d4u
    - sudo apt-get update -qq
    - sudo apt-get install r-base

    # install Rmarkdown
    - echo 'options(repos=c("http://cran.us.r-project.org")); install.packages("rmarkdown")' | sudo R --vanilla --slave

    # TODO: install R project dependencies using Packrat or something

script: make
